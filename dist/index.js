"use strict";var x=Object.create;var p=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty;var P=(u,t)=>{for(var r in t)p(u,r,{get:t[r],enumerable:!0})},D=(u,t,r,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of T(t))!w.call(u,n)&&n!==r&&p(u,n,{get:()=>t[n],enumerable:!(e=H(t,n))||e.enumerable});return u};var l=(u,t,r)=>(r=u!=null?x(O(u)):{},D(t||!u||!u.__esModule?p(r,"default",{value:u,enumerable:!0}):r,u)),R=u=>D(p({},"__esModule",{value:!0}),u);var W={};P(W,{AuthHelper:()=>y,CommonHelper:()=>o,HtmlHelper:()=>b,StockvnHelper:()=>g,Util:()=>d,foo:()=>U});module.exports=R(W);var I=l(require("lodash/intersection")),C=l(require("lodash/intersectionWith")),S=l(require("lodash/isNumber")),h=l(require("lodash/flatten")),G=l(require("decimal.js"));var f=class{static GetCurrentYearMonthDayString(t){return t||(t=new Date),t.getFullYear().toString()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0")}static GetCurrentHoursMinutesString(t){return t||(t=new Date),t.getHours().toString().padStart(2,"0")+""+t.getMinutes().toString().padStart(2,"0")}static GetCurrentHoursMinutesSecondsString(t){return t||(t=new Date),this.GetCurrentHoursMinutesString(t)+t.getSeconds().toString().padStart(2,"0")}static GetCurrentYearMonthDayStringUTC(t){return t||(t=new Date),t.toISOString().substring(0,10).replace(/-/g,"")}static GetCurrentHoursMinutesStringUTC(t){return t||(t=new Date),t.toISOString().substring(11,16).replace(/:/g,"")}static GetCurrentHoursMinutesSecondsStringUTC(t){return t||(t=new Date),t.toISOString().substring(11,19).replace(/:/g,"")}static GetDatetimeNowString(t="vi-VN",r="Asia/Saigon"){return new Intl.DateTimeFormat(t,{timezone:r,timeZone:r,dateStyle:"full",timeStyle:"long",hour12:!1}).format(new Date)}};var m=class{static ToNumber(t,r=2,e=0){let n=e,i=+t;return(0,S.default)(i)&&!isNaN(i)&&(n=i),r!==void 0&&(n=new G.default(n).toDP(r).toNumber()),n}static RoundNumber(t,r=1){let e=Math.pow(10,r);return Math.round((t+Number.EPSILON)*e)/e}static async ContinuousExecuteBySetTimeout(t,r=1e4,e,n=!1,i=(s,a,c)=>!0){let s={timerId:void 0,delay:NaN};if(!t||typeof t!="function")return s;typeof e!="function"&&(e=m.ContinuousExecuteBySetTimeoutDefaultIntervalFn);let a=e(void 0,void 0,r),c;async function M(){try{i(a,c,r)&&(await t(),c=!0)}catch{c=!1}a=e?.(a,c,r),s.delay=a,s.timerId=setTimeout(M,a)}if(n&&i(a,c,r))try{await t(),c=!0}catch{c=!1}return s.timerId=setTimeout(M,a),s}static ContinuousExecuteBySetTimeoutDefaultIntervalFn(t,r,e){if(r)return e;let n=t||e;return n=Math.round(n*(1.2+Math.random())),n>2*e&&(n=2*e),n}static RepresentNumberInIconicDigit(t){if(!t)return"";let r=t.toString();return r=r.replace(/0/g,"0\uFE0F\u20E3").replace(/1/g,"1\uFE0F\u20E3").replace(/2/g,"2\uFE0F\u20E3").replace(/3/g,"3\uFE0F\u20E3").replace(/4/g,"4\uFE0F\u20E3").replace(/5/g,"5\uFE0F\u20E3").replace(/6/g,"6\uFE0F\u20E3").replace(/7/g,"7\uFE0F\u20E3").replace(/8/g,"8\uFE0F\u20E3").replace(/9/g,"9\uFE0F\u20E3"),r}static GetRandomIntegerTo(t){return Math.round(Math.random()*t)}static GetRandomArrayElement(t){if(Array.isArray(t))return t[m.GetRandomIntegerTo(t.length-1)]}static ShuffleArray(t){let r=t.length,e;for(;r!=0;)e=Math.floor(Math.random()*r),r--,[t[r],t[e]]=[t[e],t[r]];return t}static HasAnyOfIntersection(t,r="",e=!0){if(!t||!r)return!1;let n=(0,h.default)([t]),i=(0,h.default)([r]),s;return e?s=(0,C.default)(n,i,(a,c)=>typeof a=="string"||typeof c=="string"?a?.toString()?.toUpperCase()===c?.toString()?.toUpperCase():a===c).length>0:s=(0,I.default)(n,i).length>0,s}static Percent(t,r,e){let n=100*t/r;return e>0&&(n=m.ToNumber(n,e)),n}static DiffInPercent(t,r,e){let n=null;return(0,S.default)(t)&&(0,S.default)(r)&&(n=m.Percent(r-t,t,e)),n}static JoinPaths(){let t=Array.prototype.slice.call(arguments);var r="/",e=new RegExp(r+"{1,}","g");return t.join(r).replace(e,r)}static ToNumberString(t,r=2,e=!1,n=!0,i=""){return t==0&&!n||!t&&t!==0?"":(e&&+t>0?"+":"")+m.ToNumber(t,r)+i}static NumberToUnitString(t,r=1,e=0,n="",i="en-US"){if(t===0)return"0";if(!t)return"";if(!+t)return t?.toString();let s=(+t/r).toFixed(e);return new Intl.NumberFormat(i).format(+s)+n}},o=m;o.GetCurrentYearMonthDayString=f.GetCurrentYearMonthDayString,o.GetCurrentHoursMinutesString=f.GetCurrentHoursMinutesString,o.GetCurrentHoursMinutesSecondsString=f.GetCurrentHoursMinutesSecondsString,o.GetCurrentYearMonthDayStringUTC=f.GetCurrentYearMonthDayStringUTC,o.GetCurrentHoursMinutesStringUTC=f.GetCurrentHoursMinutesStringUTC,o.GetCurrentHoursMinutesSecondsStringUTC=f.GetCurrentHoursMinutesSecondsStringUTC,o.GetDatetimeNowString=f.GetDatetimeNowString;var g=class{static StandardizeVolNumber(t){if(typeof t=="number")return t;if(!t)return NaN;let r="";return typeof t=="string"&&(r=t.replace(/,/g,"")),o.ToNumber(r,0)}static ContinuousExecuteInWorkingHours(t,r){return t?setInterval(async()=>{this.IsInWorkingHours()&&this.IsInWorkingDays()&&await t()},r):void 0}static IsInWorkingHours(t){if(t||(t=new Date),!g.IsInWorkingDays(t))return!1;let r=o.GetCurrentHoursMinutesString(t);return"0845"<=r&&r<="1130"||"1300"<=r&&r<="1445"}static IsIn_ATO_Sessions(t){return t||(t=o.GetCurrentHoursMinutesString()),"0845"<=t&&t<="0915"}static IsIn_ATC_Sessions(t){return t||(t=o.GetCurrentHoursMinutesString()),"1430"<=t&&t<="1445"}static IsInWorkingDays(t){t||(t=new Date);let r=t.getDay();return 0<r&&r<6}};var y=class{constructor(){}static get ADMINROLE(){return"admin"}static mergeRoles(t,r){function e(i,s,a){return a.indexOf(i)===s}return t.concat(r).filter(e)}static hasRoles(t,r){let e=[];if(!t||!r||!Array.isArray(r))return e;let n=t.split(",").map(i=>i.trim());if(r.indexOf(this.ADMINROLE)>=0)return e=n,e;for(let i of n)r.indexOf(i)>=0&&e.push(i);return e}};var d=class{static GetRandomNumberBetween(t,r){return Math.floor(Math.random()*(r-t+1)+t)}static splitByCommaAndTrim(t){return t?t.split(",").filter(r=>r).map(r=>r.trim()):[]}static mergeAndDistinct(t,r){function e(i,s,a){return a.indexOf(i)===s}return t.concat(r).filter(e)}static parseJsonDate(t){return new Date(parseInt(t.replace("/Date(","").replace(")/","")))}static joinPath(...t){for(var r=[],e=0,n=arguments.length;e<n;e++)r=r.concat(arguments[e].split("/"));var i=[];for(e=0,n=r.length;e<n;e++){var s=r[e];!s||s==="."||(s===".."?i.pop():i.push(s))}return r[0]===""&&i.unshift(""),i.join("/")||(i.length?"/":".")}static dirname(t){return this.joinPath(t,"..")}};var b=class{static cleanupHtmlTags(t,r){let e=new RegExp(`<(${r.join("|")})[^>]*>.*?<\\/\\1>`,"igms");return t.replace(e,"")}};var U="foo";0&&(module.exports={AuthHelper,CommonHelper,HtmlHelper,StockvnHelper,Util,foo});
